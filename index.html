<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UNAMUNO</title>
<link rel="stylesheet" href="styles.css">
<script src="https://unpkg.com/@supabase/supabase-js"></script>
</head>
<body>

<header class="header">
  <div class="header-inner">
    <img id="site-logo" src="" alt="Logo">
    <div>
      <h1 id="site-title">UNAMUNO</h1>
      <p id="site-description">Welcome to the official page.</p>
    </div>
    <button id="admin-login-btn" class="btn" style="margin-left:auto;">Admin Login</button>
  </div>
</header>

<main class="wrap">

  <!-- Posts Section -->
  <section class="section">
    <div class="section-header">
      <h2>ðŸ“¢ Posts</h2>
      <button id="open-panel-btn" class="btn">New Post</button>
    </div>
    <div id="posts" class="grid">Loading posts...</div>
  </section>

  <!-- Calendar Section -->
  <section class="section">
    <h2>ðŸ“… Calendar</h2>
    <div class="controls-row">
      <input id="event-date" type="date" />
      <input id="event-title" type="text" placeholder="Event title" />
      <button id="create-event-btn" class="btn">Add Event</button>
    </div>
    <textarea id="event-note" placeholder="Event note (optional)"></textarea>
    <div id="calendar" class="grid">Loading events...</div>
  </section>

</main>

<footer class="site-footer">Â© 2025 UNAMUNO â€” Powered by Supabase</footer>

<!-- Draggable Post Panel -->
<div class="panel" id="post-panel">
  <div class="panel-header">
    Create / Edit Post
    <span id="close-panel" style="float:right;cursor:pointer;">âœ–</span>
  </div>
  <div class="panel-body">
    <input id="post-title" type="text" placeholder="Post title" />
    <input id="post-link" type="text" placeholder="Optional link (URL)" />
    <input id="post-thumbnail" type="text" placeholder="Thumbnail image URL" />
    <label><input type="checkbox" id="post-pinned" /> Pin this post</label>
    <button id="create-post-btn" class="btn">Publish Post</button>
    <button id="update-post-btn" class="btn" style="display:none;">Update Post</button>
    <input type="hidden" id="editing-post-id" />
  </div>
</div>

<!-- Admin Login Modal -->
<div class="panel" id="admin-login-panel" style="width:300px;top:150px;right:50%;transform:translateX(50%);">
  <div class="panel-header">Admin Login <span id="close-admin-login" style="float:right;cursor:pointer;">âœ–</span></div>
  <div class="panel-body">
    <input id="admin-username" type="text" placeholder="Username" />
    <input id="admin-password" type="password" placeholder="Password" />
    <button id="admin-login-submit" class="btn">Login</button>
  </div>
</div>

<script src="main.js"></script>
</body>
</html>
