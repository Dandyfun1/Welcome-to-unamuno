<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>UNAMUNO</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script defer src="script.js"></script>
</head>
<body>
  <header class="hero">
    <img id="site-logo" alt="logo" />
    <h1 id="site-title">UNAMUNO</h1>
    <p id="site-sub"></p>
  </header>

  <main>
    <!-- Admin controls -->
    <div id="controls-area" class="hidden">
      <button id="save-changes" class="primary">Guardar cambios</button>
      <button id="export-btn">Exportar datos</button>
      <button id="new-item-btn">Nuevo post</button>
      <button id="logout-btn" class="ghost">Cerrar sesión</button>

      <!-- RESET button (admin only) -->
      <div style="margin-top:12px;">
        <button 
          id="reset-db" 
          class="danger" 
          style="display:none;" 
          data-tooltip="⚠️ Esto borrará y recreará toda la base de datos con datos de ejemplo.">
          RESET DATABASE
        </button>
        <p class="hint">
          ⚠️ Requiere escribir <strong>RESET</strong> para confirmar
        </p>
      </div>
    </div>

    <!-- Login -->
    <div id="login-area">
      <input id="pw-input" type="email" placeholder="Email admin" />
      <button id="login-btn">Login</button>
    </div>

    <!-- Search -->
    <div class="search-bar">
      <input id="search-input" type="text" placeholder="Buscar..." />
      <button id="search-btn">Buscar</button>
      <button id="public-post-btn">Publicar</button>
    </div>

    <!-- Items -->
    <section id="pinned-area"></section>
    <section id="items-grid"></section>
    <div id="items-list"></div>

    <!-- Panels -->
    <div id="admin-panel" class="hidden">
      <div id="admin-drag" class="drag-handle">Admin Panel</div>
      <button id="admin-close">×</button>
    </div>

    <div id="calendar-panel" class="hidden">
      <div id="calendar-drag" class="drag-handle">Calendario</div>
      <button id="calendar-close">×</button>
      <div id="cal-controls">
        <button id="cal-prev">&lt;</button>
        <span id="cal-title"></span>
        <button id="cal-next">&gt;</button>
      </div>
      <div id="calendar-grid"></div>
      <div id="event-popup" class="hidden">
        <h3 id="event-date-title"></h3>
        <div id="event-details"></div>
        <div id="event-admin-controls" class="hidden">
          <button id="edit-event-btn">Editar</button>
          <button id="delete-event-btn" class="danger">Eliminar</button>
        </div>
      </div>
    </div>

    <div id="notifications"></div>
  </main>
</body>
</html>

