<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UNAMUNO</title>

  <!-- Supabase client -->
  <script src="https://unpkg.com/@supabase/supabase-js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="notifications" class="notifications" aria-live="polite"></div>

  <!-- HEADER -->
  <header>
    <img id="site-logo" src="" alt="Logo" />
    <h1 id="site-title">UNAMUNO</h1>
    <p id="site-description">Welcome to the official page.</p>
  </header>

  <main>
    <!-- POST SECTION -->
    <section id="posts-section">
      <h2>📝 Create a Post</h2>
      <!-- Button opens the draggable creation panel -->
      <button id="open-panel-btn" class="btn">Open Post Panel</button>
      <!-- Quick note: panel is hidden by default to preserve layout -->
    </section>

    <section>
      <h2>📢 Recent Posts</h2>
      <div id="posts" class="grid">Loading posts...</div>
    </section>

    <!-- CALENDAR SECTION -->
    <section id="calendar-section">
      <h2>📅 Calendar</h2>

      <div id="calendar-controls">
        <input id="event-date" type="date" />
        <input id="event-title" type="text" placeholder="Event title" />
        <textarea id="event-note" placeholder="Event note (optional)"></textarea>
        <button id="create-event-btn" class="btn">Add Event</button>
      </div>

      <div id="calendar">Loading events...</div>
    </section>
  </main>

  <div class="footer">
    © 2025 UNAMUNO — <a href="admin.html">Admin panel</a>
  </div>

  <!-- DRAGGABLE POST PANEL -->
  <div id="post-panel" class="panel hidden" style="left:20px; top:100px;">
    <div id="panel-header" class="panel-header">
      <span>Create a New Post</span>
      <button id="close-panel-btn" class="ghost small">✖</button>
    </div>
    <div class="panel-body">
      <input id="post-title" type="text" placeholder="Post title" />
      <input id="post-link" type="text" placeholder="Link (optional)" />
      <input id="post-thumbnail" type="text" placeholder="Thumbnail image URL (optional)" />
      <label><input type="checkbox" id="post-pinned" /> Pin this post</label>

      <div style="display:flex;gap:8px;margin-top:8px;">
        <button id="create-post-btn" class="btn">Publish Post</button>
        <button id="clear-panel-btn" class="ghost small">Clear</button>
      </div>

      <div id="thumb-preview" style="margin-top:8px;"></div>
    </div>
  </div>

  <!-- MAIN JS -->
  <script src="main.js"></script>
</body>
</html>
